---
layout: post
title:  "Advent of Code 2021"
---

This year continue solving Advent Of Code in Rust!


# Prepararion

Using the following script to download inputs:

```python
#!/usr/local/bin/python3
import argparse
import subprocess
import os

SESSION = os.environ['AOC_SESSION']

parser = argparse.ArgumentParser(description='Read input')
parser.add_argument('day', type=int)
parser.add_argument('--year', type=int, default=2021)
args = parser.parse_args()

cmd = 'curl https://adventofcode.com/{}/day/{}/input --cookie "session={}"'.format(
        args.year, args.day, SESSION)
output = subprocess.check_output(cmd, shell=True)
print(output.decode('utf-8'), end='')
```

where `AOC_SESSION` env variable is found in `Network` tab under headers (see [link](https://github.com/wimglenn/advent-of-code-wim/issues/1)).

# Day 1

```
      -------Part 1--------   -------Part 2--------
Day       Time  Rank  Score       Time  Rank  Score
  1   00:01:27   244      0   00:03:48   292      0
```

* Learned about `tuple_windows` in from [itertools](https://docs.rs/itertools/0.10.1/itertools/trait.Itertools.html#method.tuple_windows) crate:

```rust
pub fn part2(lines: &Vec<String>) -> i64 {
    let v = lines.iter().map(|l| parse_i64(l));
    let sums = v.tuple_windows().map(|(a, b, c)| a + b + c);
    sums.tuple_windows().filter(|(a, b)| a < b).count() as i64
}
```
